mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "[a-z]{1,3}"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove(description, "[a-z]{1,3}"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(check = str_extract(description, "[a-z]{2,}[:space:][a-z]{2,}"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(check = str_extract(description, "[a-z]{2,}|[:space:][a-z]{2,}"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(check = str_extract(description, "[a-z]{2,}|&[:space:][a-z]{2,}"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description))
finance_data_clean <- finance_data_clean %>%
mutate(check = str_remove(description, c("lvp", "fp", "r")))
finance_data_clean <- finance_data_clean %>%
mutate(check = str_remove_all(description, c("lvp", "fp", "r")))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description))
finance_data_clean_check <- finance_data_clean %>%
mutate(check = str_remove_all(description, c("lvp", "fp", "r")))
View(finance_data_clean_check)
finance_data_clean_check <- finance_data_clean %>%
mutate(check = str_remove_all(description, "lvp"))
finance_data_clean_check <- finance_data_clean %>%
mutate(check = str_remove_all(description, "lvp")) %>%
mutate(check = str_remove_all(description, "fp")) %>%
mutate(check = str_remove_all(description, "r")) %>%
mutate(check = str_remove_all(description, "l")) %>%
mutate(check = str_remove_all(description, "gb"))
finance_data_clean_check <- finance_data_clean %>%
mutate(check = str_remove_all(description, "lvp")) %>%
mutate(check = str_remove_all(check, "fp")) %>%
mutate(check = str_remove_all(check, "r")) %>%
mutate(check = str_remove_all(check, "l")) %>%
mutate(check = str_remove_all(check, "gb"))
finance_data_clean_check <- finance_data_clean %>%
mutate(check = str_remove_all(description, "lvp")) %>%
mutate(check = str_remove(check, "fp")) %>%
mutate(check = str_remove(check, "r")) %>%
mutate(check = str_remove(check, "l")) %>%
mutate(check = str_remove(check, "gb"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp"))
unique(finance_data_clean$description)
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "rbs personal loan" ~ "car loan",
description == "wlc council tax"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "rbs platinum    via online  pymt  fp    r"  ~ "credit card",
description == "me  savings  via mobile  pymt  fp    r"  ~ "savings",
description == "moroz a  gift  fp    rp"  ~ "husband",
description == "mairi godley  rent for september via mobile  "  ~ "rent",
description == "scaled solutions l"  ~ "salary",
description == "aug  churchill  insurance     gb"  ~ "car insurance",
description == "aug  allanshaw mot  centre  hamilton gb"  ~ "new car",
description == "petrov v  help  via mobile  pymt"  ~ "parents help",
description == "vanguard asset man"  ~ "investment",
description == "aug  crowdcube  moneybox  exeter gb"  ~ "investment",
description == "west lothian credi   via mobile  pymt  fp    r"  ~ "savings",
description == "id mobile limited"   ~ "mobile"))
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}"))
View(finance_data)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_c(description, sep = " "))
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data_clean %>%
mutate(description = str_c(description, sep = " "))
finance_data_clean <- finance_data_clean %>%
mutate(new = str_c(description, sep = " "))
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- data.frame(matrix(unlist(finance_data_clean), nrow = 240,
byrow = TRUE), stringsAsFactors = FALSE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
class(finance_data_clean)
cat(colnames(finance_data_clean), sep = "\n")
cat(colnames(finance_data_clean), sep = "")
class(finance_data_clean$description)
finance_data_clean$description <- paste0()
finance_data_clean$description <- paste0(finance_data_clean)
finance_data_clean$description <- paste0(finance_data_clean$description)
finance_data_clean$description <- paste0(finance_data_clean$description)
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "rbs personal loan" ~ "car loan",
description == "wlc council tax"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "rbs platinum    via online  pymt  fp    r"  ~ "credit card",
description == "me  savings  via mobile  pymt  fp    r"  ~ "savings",
description == "moroz a  gift  fp    rp"  ~ "husband",
description == "mairi godley  rent for september via mobile  "  ~ "rent",
description == "scaled solutions l"  ~ "salary",
description == "aug  churchill  insurance     gb"  ~ "car insurance",
description == "aug  allanshaw mot  centre  hamilton gb"  ~ "new car",
description == "petrov v  help  via mobile  pymt"  ~ "parents help",
description == "vanguard asset man"  ~ "investment",
description == "aug  crowdcube  moneybox  exeter gb"  ~ "investment",
description == "west lothian credi   via mobile  pymt  fp    r"  ~ "savings",
description == "id mobile limited"   ~ "mobile"))
finance_data_clean$description <- paste(finance_data_clean$description, sep = " ")
View(finance_data_clean)
finance_data_clean$description
check <- "c(\"personal\", \"loan\")"
paste0(check)
paste(check, sep = " ")
str_c(check, sep = " ")
class(check)
class(check)
paste(check, collapse = " ")
paste(check, collapse = "")
do.call(paste, c(as.list(check), sep = ""))
paste(check, collapse = ",")
as.list(check)
check <- as.list(check)
View(check)
paste0(check, collapse = ", ")
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove_all(description, "c\\("))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c\\("))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c\\(\\)"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c\\("))
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c[:punct:]+")) %>%
mutate(description = str_replace_all(description, ",", " " ))
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c[:punct:]+")) %>%
mutate(description = str_replace_all(description, ",", " " ))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c[:punct:]+")) %>%
mutate(description = str_replace_all(description, ",", " " )) %>%
mutate(description = str_remove_all(description, "[:punct:]+"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c")) %>%
mutate(description = str_replace_all(description, ",", " " )) %>%
mutate(description = str_remove_all(description, "[:punct:]+"))
[:punct:]
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c[:punct:]+")) %>%
mutate(description = str_replace_all(description, ",", " " )) %>%
mutate(description = str_remove_all(description, "[:punct:]+"))
str_extract(description, "mairi godley rent")
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
str_extract(description, "mairi godley rent")
str_extract_all(description, "mairi godley rent")
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean_new <- finance_data_clean %>%
if (str_detect_all(description, "mairi godley rent") == TRUE) {
str_extract_all(description, "mairi godley rent")
}
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
library(tidyverse)
library(janitor)
e
raw_data <- read_csv("~/annual_finances/raw_data/MOROZV10660239-20201101.csv")
finance_data <- raw_data %>%
clean_names() %>%
select(-account_number, -account_name, -x8)
finance_data <- finance_data %>%
mutate(type = str_replace_all(type, "D/\\D", replacement = "direct debit")) %>%
mutate(type = str_replace_all(type, "DPC", "digital banking payment")) %>%
mutate(type = str_replace_all(type, "BAC", "bank automated clearing")) %>%
mutate(type = str_replace_all(type, "POS", "point of sale")) %>%
mutate(type = str_replace_all(type, "INT", "interest")) %>%
mutate(type = str_replace_all(type, "LON", "loan")) %>%
mutate(type = str_replace_all(type, "C/\\L", "cash line")) %>%
mutate(type = str_replace_all(type, "ITL", "international transfer"))
finance_data_clean <- finance_data %>%
mutate(date = str_remove(date, "^[0-9]{2}\\/")) %>%
mutate(description = str_to_lower(description)) %>%
mutate(description = str_remove(description, "\\'")) %>%
mutate(description = str_remove_all(description, "\\d+")) %>%
mutate(description = str_remove_all(description, "[:punct:]")) %>%
mutate(description = str_trim(description)) %>%
mutate(description = str_remove_all(description, "lvp")) %>%
mutate(description = str_extract_all(description, "[a-z]{4,}")) %>%
mutate(description = str_remove(description, "c[:punct:]+")) %>%
mutate(description = str_replace_all(description, ",", " " )) %>%
mutate(description = str_remove_all(description, "[:punct:]+"))
str_extract_all(description, "mairi godley rent") }
finance_data_clean_new <- finance_data_clean %>%
if (str_detect_all(description, "mairi godley rent") == TRUE) {
str_extract_all(description, "mairi godley rent") }
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
unique(finance_data_clean$description)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "personal  loan" ~ "car loan",
description == "council"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "platinum  online  pymt"  ~ "credit card",
description == "savings  mobile  pymt"  ~ "savings",
description == "moroz  gift"  ~ "husband",
description == "mairi  godley  rent  september  mobile"  ~ "rent",
description == "scaled  solutions"  ~ "salary",
description == "churchill  insurance"  ~ "car insurance",
description == "allanshaw  centre  hamilton"  ~ "new car",
description == "petrov  help  mobile  pymt"  ~ "parents help",
description == "vanguard asset"  ~ "investment",
description == "crowdcube  moneybox  exeter"  ~ "investment",
description == "west  lothian  credi  mobile  pymt"  ~ "savings",
description == "mobile  limited"   ~ "mobile"))
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "personal  loan" ~ "car loan",
description == "council"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "platinum  online  pymt"  ~ "credit card",
description == "savings  mobile  pymt"  ~ "savings",
description == "moroz  gift"  ~ "husband",
description == "mairi  godley  rent  september  mobile"  ~ "rent",
description == "scaled  solutions"  ~ "salary",
description == "churchill  insurance"  ~ "car insurance",
description == "allanshaw  centre  hamilton"  ~ "new car",
description == "petrov  help  mobile  pymt"  ~ "parents help",
description == "vanguard asset"  ~ "investment",
description == "crowdcube  moneybox  exeter"  ~ "investment",
description == "west  lothian  credi  mobile  pymt"  ~ "savings",
description == "mobile  limited"   ~ "mobile",
description == "accrbsplat  mobile  pymt" ~ "credit card",
description == "aldi  linlithgow" ~ "food"))
unique(finance_data_clean$description)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "personal  loan" ~ "car loan",
description == "council"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "platinum  online  pymt"  ~ "credit card",
description == "savings  mobile  pymt"  ~ "savings",
description == "moroz  gift"  ~ "husband",
description == "mairi  godley  rent  september  mobile"  ~ "rent",
description == "scaled  solutions"  ~ "salary",
description == "churchill  insurance"  ~ "car insurance",
description == "allanshaw  centre  hamilton"  ~ "new car",
description == "petrov  help  mobile  pymt"  ~ "parents help",
description == "vanguard asset"  ~ "investment",
description == "crowdcube  moneybox  exeter"  ~ "investment",
description == "west  lothian  credi  mobile  pymt"  ~ "savings",
description == "mobile  limited"   ~ "mobile",
description == "accrbsplat  mobile  pymt" ~ "credit card",
description == "anatolii  moroz  food  mobile" ~ "husband",
description == "personal  loan  initial  payment" ~ "car loan",
description == "west  lothian  credi  mobile  pymt" ~ "savings",
description == "mairi  godley  rent  august  mobile" ~ "rent",
description == "amznmktplace  amazoncouk" ~ "personal - low",
description == "first  mobile  aberdeen" ~ "transport",
description == "transferwise  asus" ~ "bonus",
description == "lintlithgow  connect  lintlithgow" ~ "petrol",
description == "character0" ~ "credit card interest",
description == "aldi  linlithgow" ~ "food",
description == "mobile" ~ "mobile",
description == "paypal  johnlewispl" ~ "mother",
description == "petrova  komp  help  mobile" ~ "mother",
description == "apcoa" ~ "parking",
description == "mairi  godley  rent  july  mobile" ~ "rent",
description == "happy  beds  dewsbury" ~ "personal - high"))
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "personal  loan" ~ "car loan",
description == "council"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "platinum  online  pymt"  ~ "credit card",
description == "savings  mobile  pymt"  ~ "savings",
description == "moroz  gift"  ~ "husband",
description == "mairi  godley  rent  september  mobile"  ~ "rent",
description == "scaled  solutions"  ~ "salary",
description == "churchill  insurance"  ~ "car insurance",
description == "allanshaw  centre  hamilton"  ~ "new car",
description == "petrov  help  mobile  pymt"  ~ "parents help",
description == "vanguard asset"  ~ "investment",
description == "crowdcube  moneybox  exeter"  ~ "investment",
description == "west  lothian  credi  mobile  pymt"  ~ "savings",
description == "mobile  limited"   ~ "mobile",
description == "accrbsplat  mobile  pymt" ~ "credit card",
description == "anatolii  moroz  food  mobile" ~ "husband",
description == "personal  loan  initial  payment" ~ "car loan",
description == "west  lothian  credi  mobile  pymt" ~ "savings",
description == "mairi  godley  rent  august  mobile" ~ "rent",
description == "amznmktplace  amazoncouk" ~ "personal - low",
description == "first  mobile  aberdeen" ~ "transport",
description == "transferwise  asus" ~ "bonus",
description == "lintlithgow  connect  lintlithgow" ~ "petrol",
description == "character0" ~ "credit card interest",
description == "aldi  linlithgow" ~ "food",
description == "mobile" ~ "mobile",
description == "paypal  johnlewispl" ~ "mother",
description == "petrova  komp  help  mobile" ~ "mother",
description == "apcoa" ~ "parking",
description == "mairi  godley  rent  july  mobile" ~ "rent",
description == "happy  beds  dewsbury" ~ "personal - high"))
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
finance_data_clean <- finance_data_clean %>%
mutate(categories = case_when(description == "personal  loan" ~ "car loan",
description == "council"  ~ "council tax",
description == "moneybox"  ~ "LISA",
description == "platinum  online  pymt"  ~ "credit card",
description == "savings  mobile  pymt"  ~ "savings",
description == "moroz  gift"  ~ "husband",
description == "mairi  godley  rent  september  mobile"  ~ "rent",
description == "scaled  solutions"  ~ "salary",
description == "churchill  insurance"  ~ "car insurance",
description == "allanshaw  centre  hamilton"  ~ "new car",
description == "petrov  help  mobile  pymt"  ~ "parents help",
description == "vanguard asset"  ~ "investment",
description == "crowdcube  moneybox  exeter"  ~ "investment",
description == "west  lothian  credi  mobile  pymt"  ~ "savings",
description == "mobile  limited"   ~ "mobile",
description == "accrbsplat  mobile  pymt" ~ "credit card",
description == "anatolii  moroz  food  mobile" ~ "husband",
description == "personal  loan  initial  payment" ~ "car loan",
description == "west  lothian  credi  mobile  pymt" ~ "savings",
description == "mairi  godley  rent  august  mobile" ~ "rent",
description == "amznmktplace  amazoncouk" ~ "personal - low",
description == "first  mobile  aberdeen" ~ "transport",
description == "transferwise  asus" ~ "bonus",
description == "lintlithgow  connect  lintlithgow" ~ "petrol",
description == "character0" ~ "credit card interest",
description == "aldi  linlithgow" ~ "food",
description == "mobile" ~ "mobile",
description == "paypal  johnlewispl" ~ "mother",
description == "petrova  komp  help  mobile" ~ "mother",
description == "apcoa" ~ "parking",
description == "mairi  godley  rent  july  mobile" ~ "rent",
description == "happy  beds  dewsbury" ~ "personal - high",
description == "aldi  linlithgow" ~ "food",
description == "aldi  linlithgow" ~ "food",
description == "aldi  linlithgow" ~ "food",
description == "aldi  linlithgow" ~ "food",
description == "aldi  linlithgow" ~ "food",
description == "aldi  linlithgow" ~ "food",
description == "aldi  linlithgow" ~ "food",))
description == "aldi  linlithgow" ~ "food",#32
unique(finance_data_clean$description)
#51
unique(finance_data_clean$description)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
is.na(finance_data_clean$categories)
sum(is.na(finance_data_clean$categories))
finance_data_clean %>%
filter(is.na(categories))
sum(is.na(finance_data_clean$categories))
unique(finance_data_clean$categories)
unique(finance_data_clean$description)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
unique(finance_data_clean$categories)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
source('~/annual_finances/cleanning_data/cleaning_finance_data.R', echo=TRUE)
